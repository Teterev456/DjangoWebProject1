{% extends "app/layout.html" %}

{% block content %}
<div>
    <h1>Каталог</h1>
    <div class="catalog__filter">
        <form class="catalog__form" method="get" action="">
            <p>Выбор категории: </p>
            <select class="catalog__select" name="category" onchange="this.form.submit()">
                <option value="all" {% if selected_category == 'all' %} selected{% endif %}>
                    Все
                </option>
                {% for cat in categories %}
                <option value="{{ cat.slug }}" {% if cat.slug == selected_category %} selected{% endif %}>
                    {{ cat.name }}
                </option>
                {% endfor %}
            </select>
        </form>
    </div>


    <div class="cards">
        {% for card in cards %}
        <div class="cards__card">
            <img class="cards__card-img" src="{{ card.image.url }}" alt="Картинка товара" width="300" height="200" >
            <h2 class="cards__card-title"> {{card.title}} </h2>
            <hr />
            <p class="cards__card-description"> {{card.description}} </p>
            <br />
            <div class="cards__card-read-more">
                <a class="cards__card-href" href="{% url 'detailcard' parametr=card.id %}"> Перейти к оформлению </a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}